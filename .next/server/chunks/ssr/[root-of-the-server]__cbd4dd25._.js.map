{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 103, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nabil/Downloads/hello-main/hello-main/src/lib/supabaseClient.js"],"sourcesContent":["import { createClient } from '@supabase/supabase-js';\n\nconst supabaseUrl = 'https://fbbsameldccmlnxpugpn.supabase.co';\nconst supabaseAnonKey = 'eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImZiYnNhbWVsZGNjbWxueHB1Z3BuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5NDMyMTMsImV4cCI6MjA2NDUxOTIxM30.OLz7Xl3U41VA-jVXDwLDVOV0qG5ivwFcIF_uuCnL5M4';\n\nexport const supabase = createClient(supabaseUrl, supabaseAnonKey);"],"names":[],"mappings":";;;AAAA;;AAEA,MAAM,cAAc;AACpB,MAAM,kBAAkB;AAEjB,MAAM,WAAW,CAAA,GAAA,uLAAA,CAAA,eAAY,AAAD,EAAE,aAAa","debugId":null}},
    {"offset": {"line": 141, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/nabil/Downloads/hello-main/hello-main/src/app/offres/page.js"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from 'react';\nimport { supabase } from '@/lib/supabaseClient';\nimport { useRouter } from 'next/navigation';\n\nexport default function OffresPage() {\n  const router = useRouter();\n  const [user, setUser] = useState(null);\n  const [offres, setOffres] = useState([]);\n  const [courses, setCourses] = useState([]);\n  const [loading, setLoading] = useState(true);\n\n  const [showAddForm, setShowAddForm] = useState(false);\n  const [formData, setFormData] = useState({\n    poste: '',\n    entreprise: '',\n    profil_recherche: '',\n    duree: '',\n    localisation: '',\n    lien: '',\n  });\n\n  const [error, setError] = useState('');\n  const [message, setMessage] = useState('');\n\n  const [search, setSearch] = useState(\"\");\n\n  useEffect(() => {\n    const storedUser = JSON.parse(localStorage.getItem('user'));\n    if (storedUser) setUser(storedUser);\n    fetchOffres();\n    fetchCourses();\n  }, []);\n\n  const fetchOffres = async () => {\n    const { data, error } = await supabase\n      .from('offres')\n      .select('*')\n      .order('created_at', { ascending: false });\n\n    if (!error) setOffres(data || []);\n    setLoading(false);\n  };\n\n  const fetchCourses = async () => {\n    const { data } = await supabase\n      .from('cours')\n      .select('id, title')\n      .order('title', { ascending: true });\n\n    setCourses(data || []);\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value } = e.target;\n    setFormData((prev) => ({ ...prev, [name]: value }));\n  };\n\n  const handleAddOffre = async (e) => {\n    e.preventDefault();\n    setError('');\n    setMessage('');\n\n    const { error } = await supabase.from('offres').insert([formData]);\n\n    if (error) {\n      setError(\"Erreur lors de l'ajout : \" + error.message);\n    } else {\n      setMessage('âœ… Offre ajoutÃ©e avec succÃ¨s.');\n      setFormData({\n        poste: '',\n        entreprise: '',\n        profil_recherche: '',\n        duree: '',\n        localisation: '',\n        lien: '',\n      });\n      setShowAddForm(false);\n      fetchOffres();\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen bg-gray-900 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-900 text-white\">\n      {/* Navbar */}\n      <nav className=\"flex justify-between items-center bg-gray-800 text-white px-6 py-3 shadow-md\">\n        <div className=\"flex gap-6\">\n          <a href=\"/dashboard\" className=\"hover:underline font-semibold\">Accueil</a>\n          <a href=\"/cours\" className=\"hover:underline\">Cours</a>\n          <a href=\"/offres\" className=\"hover:underline\">Offres</a>\n          <a href=\"/dossiers\" className=\"hover:underline\">Dossiers</a>\n        </div>\n        <div className=\"flex items-center gap-4\">\n          {user && <div className=\"italic\">Bonjour, {user.name}</div>}\n        </div>\n      </nav>\n\n      <div className=\"p-6 md:p-10\">\n        <h2 className=\"text-3xl font-extrabold mb-8 drop-shadow-lg text-white flex items-center gap-2\">\n          <span>ðŸ“„</span> Offres disponibles\n        </h2>\n\n        {/* Barre de recherche */}\n        <div className=\"mb-8 flex justify-center\">\n          <input\n            type=\"text\"\n            placeholder=\"Rechercher un poste, une entreprise ou une localisation...\"\n            value={search}\n            onChange={e => setSearch(e.target.value)}\n            className=\"w-full max-w-md px-4 py-2 rounded-full border border-white/30 bg-white/70 text-gray-800 placeholder-gray-500 shadow focus:ring-2 focus:ring-blue-400 focus:outline-none transition\"\n          />\n        </div>\n\n        {/* Formulaire d'ajout d'offre uniquement pour les admins */}\n        {user?.role === 'admin' && (\n          <>\n            <button\n              onClick={() => setShowAddForm(!showAddForm)}\n              className=\"mb-6 bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded text-white\"\n            >\n              {showAddForm ? 'Annuler' : 'âž• Ajouter une offre'}\n            </button>\n\n            {showAddForm && (\n              <form onSubmit={handleAddOffre} className=\"bg-gray-800 p-6 rounded-lg shadow-md mb-8 space-y-4\">\n                {['poste', 'entreprise', 'profil_recherche', 'duree', 'localisation', 'lien'].map((field) => (\n                  <div key={field}>\n                    <label className=\"block text-sm text-gray-300 capitalize\">{field.replace('_', ' ')}</label>\n                    <input\n                      type=\"text\"\n                      name={field}\n                      value={formData[field]}\n                      onChange={handleInputChange}\n                      className=\"w-full mt-1 rounded bg-gray-700 text-white border border-gray-600 px-3 py-2\"\n                      required={field !== 'profil_recherche'}\n                    />\n                  </div>\n                ))}\n                <button type=\"submit\" className=\"w-full bg-green-600 hover:bg-green-700 py-2 rounded\">\n                  Ajouter\n                </button>\n                {error && <p className=\"text-red-400 text-sm\">{error}</p>}\n                {message && <p className=\"text-green-400 text-sm\">{message}</p>}\n              </form>\n            )}\n          </>\n        )}\n\n        {/* Liste des offres */}\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8\">\n          {offres.filter(offre => {\n            const q = search.toLowerCase();\n            return (\n              offre.poste?.toLowerCase().includes(q) ||\n              offre.entreprise?.toLowerCase().includes(q) ||\n              offre.localisation?.toLowerCase().includes(q)\n            );\n          }).map((offre) => (\n            <div key={offre.id} className=\"bg-gray-800 rounded-xl p-6 border border-gray-700\">\n              <h3 className=\"text-xl font-semibold mb-2\">{offre.poste}</h3>\n              <p className=\"text-gray-400 text-sm mb-1\">Entreprise : {offre.entreprise}</p>\n              <p className=\"text-gray-400 text-sm mb-1\">Localisation : {offre.localisation}</p>\n              <p className=\"text-gray-400 text-sm mb-1\">DurÃ©e : {offre.duree}</p>\n              {offre.profil_recherche && (\n                <p className=\"text-gray-400 text-sm mb-1\">Profil : {offre.profil_recherche}</p>\n              )}\n              {offre.lien && (\n                <a\n                  href={offre.lien}\n                  target=\"_blank\"\n                  rel=\"noopener noreferrer\"\n                  className=\"text-blue-400 hover:underline text-sm block mb-2\"\n                >\n                  Voir l'offre\n                </a>\n              )}\n              <p className=\"text-gray-500 text-xs mt-3\">\n                CrÃ©Ã© le : {new Date(offre.created_at).toLocaleDateString()}\n              </p>\n            </div>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}